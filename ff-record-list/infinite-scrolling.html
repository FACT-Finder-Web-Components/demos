<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Record List Demo (Infinite Scrolling)</title>
    <link rel="stylesheet" href="../assets/demo-styles.css">
    <script src="../assets/scripts.js"></script>

    <script src="../node_modules/ff-web-components/dist/vendor/custom-elements-es5-adapter.js"></script>
    <script src="../node_modules/ff-web-components/dist/vendor/webcomponents-loader.js"></script>
    <script defer src="../node_modules/ff-web-components/dist/bundle.js"></script>
    <script>
        window.addEventListener(`ffCoreReady`, ({ factfinder }) => {
            const defs = factfinder.config.defaults.general;
            defs.url = `https://ng-search-web-components.fact-finder.de/fact-finder`;
            defs.api = `v5`;
            defs.channel = `demo-bergfreunde-en`;
            factfinder.request.search({ query: `trousers` }, { requestOptions: { origin: `searchImmediate` } });
        }, { once: true });
    </script>
</head>
<body>

<nav class="demo-variations">
    <span class="title">Variations:</span>
    <a href="./index.html">Regular</a>
    <a>Infinite Scrolling</a>
</nav>
<div class="searchbar">
    <ff-searchbox use-suggest="false">
        <input placeholder="Search..." autofocus />
        <ff-searchbutton>
            <button>
                <span class="icon-search"></span>
            </button>
        </ff-searchbutton>
    </ff-searchbox>
</div>

<ff-record-list
        infinite-scrolling
        infinite-scroll-margin="-700"
        infinite-max-pages="4"
        infinite-debounce-delay="10"
        unresolved
>
    <ff-record>
        <a data-anchor="https://www.alpinetrek.co.uk{{record.Deeplink}}"
           data-redirect="https://www.alpinetrek.co.uk{{record.Deeplink}}" data-redirect-target="_blank">
            <div class="record-img">
                <img data-image="{{variantValues.0.ImageURL}}">
            </div>
            <div class="record-product-info">
                <h3 class="record-product-name">
                    {{record.Title}}
                </h3>
                <div class="record-product-brand">{{variantValues.0.Manufacturer}}</div>
                <div class="record-product-price">{{variantValues.0.Price}}</div>
            </div>
        </a>
        <div class="record-product-add-to-cart">
            <button onclick="addToCart(event)">Add to Cart</button>
        </div>
    </ff-record>
</ff-record-list>
</body>
</html>
